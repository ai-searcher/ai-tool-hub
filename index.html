# Creating a refactored single-file HTML/CSS/JS project "ai_finder_2026_refactor.html"
html = r'''
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AI Finder 2026 — Refactor</title>
<style>
:root{
  --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#7c5cff;
  --glass: rgba(255,255,255,0.06);
  --glass-2: rgba(255,255,255,0.03);
  --radius:12px;
  --easing: cubic-bezier(.2,.9,.25,1);
  --gap:12px;
  --text:#e6eef8;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:var(--text);background:
linear-gradient(180deg,#081126 0%, #071021 70%);-webkit-font-smoothing:antialiased}
.container{max-width:1200px;margin:24px auto;padding:16px}
.header{
  position:sticky;top:0;z-index:40;background:linear-gradient(180deg, rgba(7,10,18,0.6), rgba(7,10,18,0.35));
  backdrop-filter: blur(6px);padding:12px;border-radius:14px;margin-bottom:12px;display:flex;align-items:center;gap:12px;
  transition: transform .45s var(--easing), opacity .35s var(--easing);
}
.header.shrink{transform:translateY(-56px);opacity:.02}
.brand{display:flex;gap:10px;align-items:center}
.logo{
  width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#00d4ff);
  display:grid;place-items:center;font-weight:700;color:#062;box-shadow:0 6px 18px rgba(124,92,255,0.12)
}
.title{font-size:16px;font-weight:600}
.sub{font-size:12px;color:var(--muted)}
.controls{margin-left:auto;display:flex;gap:8px;align-items:center}
.searchBar{
  position:relative;flex:1;max-width:520px;
}
.searchBar input{
  width:100%;padding:12px 14px;border-radius:999px;border:0;background:var(--glass);color:var(--text);
  outline:none;box-shadow:inset 0 -2px 12px rgba(0,0,0,0.6);transition:box-shadow .25s var(--easing)
}
.keys{font-size:11px;color:var(--muted);padding:4px 8px;background:transparent;border-radius:6px;border:1px solid rgba(255,255,255,0.04)}
.lang{cursor:pointer;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04)}
.pillNav{
  display:flex;gap:10px;overflow:auto;padding:10px 4px;margin-top:10px;
  -webkit-overflow-scrolling:touch;
}
.pill{
  flex:0 0 auto;padding:8px 12px;border-radius:999px;background:var(--glass-2);font-size:13px;color:var(--muted);
  border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform .22s var(--easing), background .22s;
  backdrop-filter: blur(6px)
}
.pill.active{background:linear-gradient(90deg,var(--accent),#00d4ff);color:white;transform:translateY(-4px);box-shadow:0 8px 30px rgba(124,92,255,0.12)}
.toolbar{display:flex;gap:8px;align-items:center;margin-left:12px}
.toolsWrap{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px;margin-top:18px}
.card{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:14px;padding:12px;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03);
  transition:transform .28s var(--easing), box-shadow .28s var(--easing), height .28s var(--easing);
  min-height:90px;display:flex;flex-direction:column;gap:8px;
}
.card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.6)}
.card .top{display:flex;align-items:center;gap:10px}
.avatar{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,#1f2937,#111827);display:grid;place-items:center;font-weight:700}
.meta{flex:1}
.name{font-weight:600;font-size:14px}
.cat{font-size:12px;color:var(--muted)}
.stats{display:flex;gap:8px;align-items:center;font-size:12px;color:var(--muted)}
.price{font-weight:700;color:var(--text)}
.quickGlass{
  position:absolute;inset:auto 10px 12px 10px;height:48px;border-radius:10px;padding:8px;display:flex;align-items:center;gap:8px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter: blur(6px);
  transform:translateY(16px);opacity:0;pointer-events:none;transition:all .28s var(--easing)
}
.card:hover .quickGlass{transform:translateY(0);opacity:1;pointer-events:auto}
.quickGlass button{border:0;padding:8px 10px;border-radius:8px;background:rgba(255,255,255,0.02);color:var(--text);cursor:pointer;font-size:13px}
.badge{padding:6px 8px;border-radius:999px;background:rgba(0,0,0,0.25);font-size:12px;color:var(--muted)}
.desktop-only{display:inline-block}
@media (max-width:720px){
  .header{flex-direction:column;align-items:stretch;padding:10px}
  .controls{width:100%;margin-top:6px}
  .pillNav{padding-bottom:8px}
  .toolsWrap{grid-template-columns:1fr}
  .desktop-only{display:none}
  .quickGlass{display:flex;position:static;transform:none;opacity:1;pointer-events:auto;margin-top:6px;height:44px}
  .card{min-height:84px}
}
/* Modal */
.modal{position:fixed;inset:0;background:linear-gradient(180deg,rgba(2,6,23,0.6),rgba(2,6,23,0.8));display:grid;place-items:center;padding:20px;z-index:80;opacity:0;pointer-events:none;transition:opacity .22s}
.modal.show{opacity:1;pointer-events:auto}
.modalCard{width:100%;max-width:880px;background:linear-gradient(180deg,#071026,#061220);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 40px 120px rgba(2,6,23,0.8)}
.modalHead{display:flex;justify-content:space-between;align-items:center;gap:8px}
.modalBody{margin-top:10px;display:grid;grid-template-columns:1fr 320px;gap:14px}
.leftCol{min-height:160px}
.rightCol{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:12px;border-radius:10px}
.tag{display:inline-block;padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.03);font-size:12px;margin-right:6px}
.kv{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed rgba(255,255,255,0.02);font-size:13px}
.closeBtn{border:0;background:transparent;color:var(--muted);cursor:pointer;font-size:14px;padding:8px;border-radius:8px}
.small{font-size:13px;color:var(--muted)}
.footerNote{font-size:12px;color:var(--muted);margin-top:10px}
/* Spotlight */
.spotlight{position:fixed;left:50%;top:12%;transform:translateX(-50%);width:min(840px,92%);z-index:90;display:none}
.spotlight.show{display:block}
.spotlightBox{background:#06111a;border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 30px 80px rgba(2,6,23,0.6)}
.spotInput{width:100%;padding:12px;border-radius:8px;border:0;background:transparent;color:var(--text);outline:none;font-size:16px}
.suggestions{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
.suggest{padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.02);font-size:13px;color:var(--muted);cursor:pointer}
.focused{opacity:0.08;pointer-events:none;transition:opacity .4s var(--easing)}
/* tiny helpers */
.row{display:flex;gap:8px;align-items:center}
.fadeIn{animation:fadeIn .28s var(--easing) both}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
</style>
</head>
<body>
<div class="container">
  <header class="header" id="header">
    <div class="brand">
      <div class="logo">AI</div>
      <div>
        <div class="title">AI Finder 2026</div>
        <div class="sub">Radical Simplicity — It just works</div>
      </div>
    </div>

    <div class="searchBar" title="Press ⌘/Ctrl + K">
      <input id="mainSearch" placeholder="Search tools, types, intents... (⌘/Ctrl + K)" />
    </div>

    <div class="controls">
      <div class="keys desktop-only">⌘/Ctrl K</div>
      <button class="lang" id="langBtn">EN</button>
    </div>
  </header>

  <!-- Pill navigation -->
  <div class="pillNav" id="pillNav" aria-hidden="false">
    <!-- pills populated by JS -->
  </div>

  <main id="content">
    <section class="toolsWrap" id="toolsWrap">
      <!-- tool cards injected here -->
    </section>
  </main>
</div>

<!-- Modal -->
<div class="modal" id="modal" role="dialog" aria-modal="true">
  <div class="modalCard fadeIn" role="document">
    <div class="modalHead">
      <div>
        <div id="modalTitle" style="font-weight:700;font-size:16px"></div>
        <div id="modalTagline" class="small"></div>
      </div>
      <div class="row">
        <button class="closeBtn" id="closeModal">Close ✕</button>
      </div>
    </div>
    <div class="modalBody">
      <div class="leftCol" id="modalLeft">
        <div id="modalDesc" class="small"></div>
        <div style="margin-top:12px" id="modalProsCons"></div>
      </div>
      <aside class="rightCol">
        <div class="kv"><div class="small">Price</div><div id="mPrice" class="price"></div></div>
        <div class="kv"><div class="small">Rating</div><div id="mRating"></div></div>
        <div class="kv"><div class="small">Category</div><div id="mCategory" class="tag"></div></div>
        <div class="footerNote" id="mFooter"></div>
      </aside>
    </div>
  </div>
</div>

<!-- Spotlight -->
<div class="spotlight" id="spotlight">
  <div class="spotlightBox">
    <input id="spotInput" class="spotInput" placeholder="Try 'music', 'summarize', or press Esc to close" />
    <div class="suggestions" id="suggestions"></div>
  </div>
</div>

<script>
/* -------- Data (sample) -------- */
const tools = [
  {id:1,name:'MelodyAI',cat:'Audio',price:'Free',rating:4.6,tagline:'Generate music with AI',desc:'Create songs, loops and stems.',pros:{en:['Great for prototyping','Large sound library'],de:['Toll zum Prototyping','Große Soundbibliothek']},cons:{en:['Limited mastering'],de:['Begrenztes Mastering']}},
  {id:2,name:'ClipVision',cat:'Image',price:'$9/mo',rating:4.2,tagline:'Image tool for creators',desc:'Fast image transforms & upscaling',pros:{en:['Fast results'],de:['Schnelle Ergebnisse']},cons:{en:['Watermark on free'],de:['Wasserzeichen in Free']}},
  {id:3,name:'CodeWhisper',cat:'Code',price:'$29/mo',rating:4.8,tagline:'AI assistant for developers',desc:'Autocomplete & refactor',pros:{en:['Boosts productivity'],de:['Produktivitätssteigerung']},cons:{en:['Occasional hallucinations'],de:['Gelegentliche Fehler']}},
  {id:4,name:'SummarizePro',cat:'Text',price:'Free',rating:4.3,tagline:'Smart text summarizer',desc:'Condense articles, meetings & docs',pros:{en:['Accurate summaries'],de:['Genaue Zusammenfassungen']},cons:{en:['Needs context sometimes'],de:['Benötigt manchmal Kontext']}},
  {id:5,name:'DataSmith',cat:'Analytics',price:'Contact',rating:4.5,tagline:'Analytics for product teams',desc:'Dashboards and AI insights',pros:{en:['Deep insights'],de:['Tiefe Einblicke']},cons:{en:['Enterprise pricing']}}
];

let currentLang = 'en'; // 'en' or 'de'
let currentCategory = 'All';
const categories = ['All',...new Set(tools.map(t=>t.cat))];

/* -------- Utilities -------- */
const $ = (sel, ctx=document) => ctx.querySelector(sel);
const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

/* -------- Init UI -------- */
function init(){
  renderPills();
  renderTools();
  attachEvents();
  renderSuggestions();
  // accessibility: ensure first pill is active
  setActivePill(currentCategory);
}
init();

/* -------- Pill Nav (horizontal scrolling) -------- */
function renderPills(){
  const nav = $('#pillNav');
  nav.innerHTML = '';
  categories.forEach(cat=>{
    const btn = document.createElement('button');
    btn.className = 'pill';
    btn.textContent = cat;
    btn.dataset.cat = cat;
    if(cat===currentCategory) btn.classList.add('active');
    btn.addEventListener('click', ()=>{ filterByCategory(cat); });
    nav.appendChild(btn);
  });
}

/* -------- Tools rendering (high-density) -------- */
function renderTools(filter=''){
  const wrap = $('#toolsWrap');
  const q = filter.trim().toLowerCase();
  const list = tools.filter(t=>{
    if(currentCategory!=='All' && t.cat!==currentCategory) return false;
    if(!q) return true;
    return (t.name+t.tagline+t.desc+t.cat).toLowerCase().includes(q);
  });
  // high-density list: show compact cards
  wrap.innerHTML = '';
  list.forEach(t=>{
    const c = document.createElement('article');
    c.className = 'card';
    c.setAttribute('data-id', t.id);
    c.innerHTML = `
      <div class="top">
        <div class="avatar">${t.name.split(' ').map(s=>s[0]).slice(0,2).join('')}</div>
        <div class="meta">
          <div class="name">${t.name}</div>
          <div class="cat">${t.tagline} · ${t.cat}</div>
          <div class="stats"><span class="price">${t.price}</span> · <span>${t.rating}★</span></div>
        </div>
        <div class="badge desktop-only">${t.cat}</div>
      </div>
      <div class="quickGlass">
        <button class="openBtn" data-id="${t.id}">${currentLang=='en'?'Open':'Öffnen'}</button>
        <button class="favBtn" data-id="${t.id}">${currentLang=='en'?'Save':'Speichern'}</button>
        <button class="visitBtn" data-id="${t.id}">${currentLang=='en'?'Visit':'Besuchen'}</button>
      </div>
    `;
    // hover preview: subtle expansion implemented by CSS transitions
    c.addEventListener('mouseenter', ()=> showPreview(c,t));
    c.addEventListener('mouseleave', ()=> hidePreview(c));
    c.querySelectorAll('.openBtn,.favBtn,.visitBtn').forEach(b=>{
      b.addEventListener('click', (e)=> {
        e.stopPropagation();
        const id = +b.dataset.id;
        if(b.classList.contains('openBtn')) openToolDetail(id);
        else alert((currentLang=='en'?'Saved ':'Gespeichert ')+t.name);
      })
    });
    c.addEventListener('click', ()=> openToolDetail(t.id));
    wrap.appendChild(c);
  });
  // when empty
  if(list.length===0){
    wrap.innerHTML = '<div style="color:var(--muted);padding:18px;border-radius:10px;background:rgba(255,255,255,0.02)">No tools found</div>';
  }
}

/* -------- Hover preview (desktop) -------- */
function showPreview(card,t){
  if(window.innerWidth < 720) return;
  // create overlay glass if not exists
  if(card._preview) return;
  const p = document.createElement('div');
  p.style.position='absolute';
  p.style.right='12px';
  p.style.top='12px';
  p.style.width='220px';
  p.style.borderRadius='10px';
  p.style.padding='10px';
  p.style.background='linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02))';
  p.style.backdropFilter='blur(6px)';
  p.style.boxShadow='0 10px 30px rgba(2,6,23,0.6)';
  p.style.fontSize='13px';
  p.style.transition='transform .28s var(--easing), opacity .28s var(--easing)';
  p.innerHTML = `<div style="font-weight:700;margin-bottom:6px">${t.name}</div>
    <div style="color:var(--muted);font-size:13px">${t.tagline}</div>
    <div style="margin-top:8px;font-size:13px" class="small"><strong>${currentLang=='en'?'Pros':'Vorteile'}:</strong> ${escapeHTML((t.pros[currentLang]||t.pros.en).slice(0,2).join(', '))}</div>
    <div class="small" style="margin-top:6px"><strong>${currentLang=='en'?'Cons':'Nachteile'}:</strong> ${(t.cons && (t.cons[currentLang]||t.cons.en))?escapeHTML((t.cons[currentLang]||t.cons.en)[0]):''}</div>
    <div style="margin-top:8px;display:flex;gap:8px"><div class="tag">${t.price}</div><div class="tag">${t.rating}★</div></div>`;
  card.appendChild(p);
  card._preview = p;
  setTimeout(()=>{ if(p) p.style.transform='translateY(0)'; },10);
}
function hidePreview(card){
  if(card._preview){ card._preview.remove(); card._preview=null; }
}

/* -------- Modal & language fix (critical) -------- */
const modal = $('#modal');
function openToolDetail(id){
  const t = tools.find(x=>x.id===id);
  if(!t) return;
  // ensure every injected label respects currentLang
  const labels = {
    pros: currentLang=='en'?'Pros':'Vorteile',
    cons: currentLang=='en'?'Cons':'Nachteile',
    price: currentLang=='en'?'Price':'Preis',
    rating: currentLang=='en'?'Rating':'Bewertung',
    category: currentLang=='en'?'Category':'Kategorie',
    close: currentLang=='en'?'Close':'Schließen'
  };
  $('#modalTitle').textContent = t.name;
  $('#modalTagline').textContent = t.tagline;
  $('#modalDesc').textContent = t.desc;
  $('#mPrice').textContent = t.price;
  $('#mRating').textContent = t.rating + ' ★';
  $('#mCategory').textContent = t.cat;
  $('#closeModal').textContent = labels.close + ' ✕';
  // build pros/cons using currentLang variable
  const pros = (t.pros && (t.pros[currentLang] || t.pros.en)) || [];
  const cons = (t.cons && (t.cons[currentLang] || t.cons.en)) || [];
  const pc = document.createElement('div');
  pc.innerHTML = `<div style="margin-top:8px"><strong>${labels.pros}:</strong><ul>${pros.map(p=>'<li>'+escapeHTML(p)+'</li>').join('')}</ul></div>
                  <div style="margin-top:8px"><strong>${labels.cons}:</strong><ul>${cons.map(c=>'<li>'+escapeHTML(c)+'</li>').join('')}</ul></div>`;
  const existing = $('#modalProsCons');
  existing.innerHTML = '';
  existing.appendChild(pc);
  // footer
  $('#mFooter').textContent = currentLang=='en'?'Delivered with care':'Mit Sorgfalt bereitgestellt';
  modal.classList.add('show');
}

/* -------- Closing modal -------- */
$('#closeModal').addEventListener('click', ()=> modal.classList.remove('show'));
modal.addEventListener('click', (e)=> { if(e.target===modal) modal.classList.remove('show'); });

/* -------- Filtering & pills -------- */
function filterByCategory(cat){
  currentCategory = cat;
  setActivePill(cat);
  renderTools($('#mainSearch').value || '');
}
function setActivePill(cat){
  $$('.pill').forEach(p=>p.classList.toggle('active', p.dataset.cat===cat));
  // ensure pill is visible (smooth scroll)
  const active = $$('.pill').find(p=>p.dataset.cat===cat);
  if(active) active.scrollIntoView({behavior:'smooth',inline:'center',block:'nearest'});
}

/* -------- Search (intent-aware) -------- */
const mainSearch = $('#mainSearch');
mainSearch.addEventListener('input', (e)=>{
  const v = e.target.value;
  // intent detection: if input matches a category -> switch
  categories.forEach(c=>{
    if(v.trim().toLowerCase()===c.toLowerCase()) { filterByCategory(c); return; }
  });
  renderTools(v);
});
mainSearch.addEventListener('keydown', (e)=>{
  if(e.key==='Escape') mainSearch.blur();
});

/* -------- Spotlight (Cmd/Ctrl+K) -------- */
const spotlight = $('#spotlight');
const spotInput = $('#spotInput');
const suggestionsEl = $('#suggestions');
function openSpotlight(initial=''){
  spotlight.classList.add('show');
  spotInput.value = initial;
  setTimeout(()=> spotInput.focus(),50);
  renderSuggestions();
}
function closeSpotlight(){ spotlight.classList.remove('show'); spotInput.value=''; }
document.addEventListener('keydown', (e)=>{
  if((e.ctrlKey||e.metaKey) && e.key.toLowerCase()==='k'){ e.preventDefault(); openSpotlight(); }
  if(e.key==='Escape') closeSpotlight();
});
spotInput.addEventListener('input', (e)=>{
  const q = e.target.value.trim().toLowerCase();
  // if matches category exactly, jump to category
  const match = categories.find(c=>c.toLowerCase()===q);
  if(match){ filterByCategory(match); closeSpotlight(); mainSearch.value=''; return; }
  // else highlight matching tools
  renderTools(q);
});
function renderSuggestions(){
  suggestionsEl.innerHTML = '';
  const intents = ['music','image','code','text','analytics','summarize'];
  intents.forEach(i=>{
    const s = document.createElement('div');
    s.className='suggest';
    s.textContent = i;
    s.addEventListener('click', ()=>{ openSpotlight(i); spotInput.value=i; spotInput.dispatchEvent(new Event('input')); });
    suggestionsEl.appendChild(s);
  });
}

/* -------- Focus Mode: fade header when scrolling -------- */
let lastScroll = 0;
window.addEventListener('scroll', ()=>{
  const y = window.scrollY;
  const header = $('#header');
  if(y>80) header.classList.add('shrink'); else header.classList.remove('shrink');
  // micro-focus: fade non-essential
  const content = $('#content');
  if(y>40) document.body.classList.add('focused'); else document.body.classList.remove('focused');
});

/* -------- Micro-interactions: animate filtering -- just add tiny delay for flow -------- */
let filterTimeout;
function animateFilter(cb){
  // fluidness: fade out, update, fade in
  const wrap = $('#toolsWrap');
  wrap.style.transition='opacity .28s var(--easing), transform .38s var(--easing)';
  wrap.style.opacity='0.12';
  wrap.style.transform='translateY(8px)';
  clearTimeout(filterTimeout);
  filterTimeout = setTimeout(()=>{ cb(); wrap.style.opacity='1'; wrap.style.transform='translateY(0)'; }, 180);
}

/* Override renderTools to use animateFilter */
const _renderTools = renderTools;
renderTools = (q='')=> animateFilter(()=>_renderTools(q));

/* -------- small helpers -------- */
function escapeHTML(s){
  if(!s) return '';
  return String(s).replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
}

/* -------- Preview handlers (mobile friendly) -------- */
function attachEvents(){
  // language toggle
  $('#langBtn').addEventListener('click', ()=>{
    currentLang = currentLang==='en'?'de':'en';
    $('#langBtn').textContent = currentLang.toUpperCase();
    // rerender all dynamic labels and content
    renderTools($('#mainSearch').value || '');
    if(modal.classList.contains('show')){
      // re-open last modal content if open by re-rendering text (best-effort)
      const title = $('#modalTitle').textContent;
      const t = tools.find(x=>x.name===title);
      if(t) openToolDetail(t.id);
    }
  });
  // search Enter key: close spotlight if open
  mainSearch.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); }});
  // keyboard nav escape
  document.addEventListener('keydown',(e)=>{ if(e.key==='Escape'){ closeSpotlight(); modal.classList.remove('show'); } });
}

/* -------- Accessibility: focus outlines -------- */
document.addEventListener('keydown', function(e){ document.documentElement.classList.add('usingKeyboard'); }, {once:true});

/* -------- Initial focus mode state -------- */
window.dispatchEvent(new Event('scroll'));
</script>
</body>
</html>
'''
open('/mnt/data/ai_finder_2026_refactor.html','w',encoding='utf-8').write(html)
print("Refactored file created at /mnt/data/ai_finder_2026_refactor.html\n\nPreview (first 40 lines):\n")
with open('/mnt/data/ai_finder_2026_refactor.html','r',encoding='utf-8') as f:
    for i,ln in enumerate(f):
        if i<40:
            print(ln.rstrip())
        else:
            break

# Provide download hint for user
print("\n[Download the refactored single-file project]")
