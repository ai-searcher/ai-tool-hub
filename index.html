<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Neuro-Interface 2026 | Die Zukunft der Tool-Discovery</title>
    <style>
        :root {
            --primary: #00d4ff;
            --secondary: #9d4edd;
            --dark: #0a0a0f;
            --surface: #1a1a2e;
            --text: #e0e0e0;
            --glow: rgba(0, 212, 255, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark);
            color: var(--text);
            overflow-x: hidden;
            cursor: none;
        }

        /* Custom Cursor */
        #custom-cursor {
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 10000;
            transition: transform 0.15s ease, opacity 0.3s ease;
            mix-blend-mode: difference;
        }

        #custom-cursor.hover {
            transform: scale(2);
            background: var(--glow);
        }

        /* Background Neural Network */
        #neural-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.3;
        }

        /* Main Container */
        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
        }

        /* Landing Screen */
        #landing-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        #landing-screen.hidden {
            opacity: 0;
            transform: scale(0.9);
            pointer-events: none;
        }

        /* Neuro Orb */
        #neuro-orb {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary), var(--secondary));
            box-shadow: 0 0 80px var(--glow), 0 0 120px var(--glow);
            animation: pulse 3s ease-in-out infinite;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        #neuro-orb::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, rgba(255,255,255,0.3), transparent 30%);
            animation: rotate 4s linear infinite;
        }

        #neuro-orb:hover {
            transform: scale(1.1);
            box-shadow: 0 0 120px var(--glow), 0 0 160px var(--glow);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        .landing-text {
            margin-top: 3rem;
            font-size: 1.8rem;
            font-weight: 300;
            text-align: center;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0;
            animation: fadeInUp 1s ease 0.5s forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
            from {
                opacity: 0;
                transform: translateY(20px);
            }
        }

        /* Search Container */
        #search-container {
            width: 100%;
            max-width: 800px;
            margin: 4rem auto 3rem;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        #search-container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .search-wrapper {
            position: relative;
        }

        #intelligent-search {
            width: 100%;
            padding: 1.5rem 2rem;
            font-size: 1.2rem;
            background: rgba(26, 26, 46, 0.8);
            border: 2px solid transparent;
            border-radius: 50px;
            color: var(--text);
            outline: none;
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
        }

        #intelligent-search:focus {
            border-color: var(--primary);
            box-shadow: 0 0 30px var(--glow);
        }

        #intelligent-search::placeholder {
            color: rgba(224, 224, 224, 0.4);
        }

        /* Intent Indicator */
        #intent-indicator {
            position: absolute;
            bottom: -30px;
            left: 2rem;
            font-size: 0.9rem;
            color: var(--primary);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #intent-indicator.visible {
            opacity: 1;
        }

        /* Tools Grid */
        #tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 0;
        }

        /* Tool Card */
        .tool-card {
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px) scale(0.95);
        }

        .tool-card.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tool-card:hover::before {
            opacity: 0.1;
        }

        .tool-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--primary);
            box-shadow: 0 20px 60px rgba(0, 212, 255, 0.3);
        }

        .tool-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }

        .tool-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.8rem;
            color: var(--primary);
        }

        .tool-card p {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(224, 224, 224, 0.7);
            margin-bottom: 1.5rem;
        }

        .tool-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .tool-card:hover .tool-meta {
            opacity: 1;
            transform: translateY(0);
        }

        .tool-category {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: rgba(157, 78, 221, 0.2);
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--secondary);
        }

        .tool-price {
            font-weight: 600;
            color: var(--primary);
        }

        /* Holographic Details Overlay */
        .detail-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(20px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .detail-overlay.visible {
            display: flex;
            opacity: 1;
        }

        .detail-content {
            background: rgba(26, 26, 46, 0.9);
            border: 2px solid var(--primary);
            border-radius: 30px;
            padding: 3rem;
            max-width: 700px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 30px 90px rgba(0, 212, 255, 0.4);
            transform: scale(0.9);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .detail-overlay.visible .detail-content {
            transform: scale(1);
        }

        .close-detail {
            position: absolute;
            top: 2rem;
            right: 2rem;
            width: 40px;
            height: 40px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-detail:hover {
            background: var(--primary);
            transform: rotate(90deg);
        }

        /* Comparison Mode */
        #comparison-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.4);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
            z-index: 500;
        }

        #comparison-button.visible {
            opacity: 1;
            transform: translateY(0);
        }

        #comparison-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0, 212, 255, 0.6);
        }

        /* Loading State */
        .loading-shimmer {
            background: linear-gradient(90deg, 
                rgba(26, 26, 46, 0.4) 0%, 
                rgba(0, 212, 255, 0.2) 50%, 
                rgba(26, 26, 46, 0.4) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            #tools-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .landing-text {
                font-size: 1.4rem;
            }

            #neuro-orb {
                width: 150px;
                height: 150px;
            }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            border: 0;
        }
    </style>
</head>
<body>
    <!-- Custom Cursor -->
    <div id="custom-cursor"></div>

    <!-- Neural Network Background -->
    <canvas id="neural-bg"></canvas>

    <!-- Landing Screen -->
    <div id="landing-screen">
        <div id="neuro-orb" role="button" tabindex="0" aria-label="Starte die Tool-Discovery"></div>
        <h1 class="landing-text">Was m√∂chtest du heute erschaffen?</h1>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Intelligent Search -->
        <div id="search-container">
            <div class="search-wrapper">
                <input 
                    type="text" 
                    id="intelligent-search" 
                    placeholder="Beschreibe, was du brauchst... (z.B. 'Ich m√∂chte ein Video erstellen')"
                    aria-label="Intelligente Tool-Suche"
                />
                <div id="intent-indicator"></div>
            </div>
        </div>

        <!-- Tools Grid -->
        <div id="tools-grid" role="list"></div>
    </div>

    <!-- Detail Overlay -->
    <div class="detail-overlay" id="detail-overlay">
        <div class="detail-content" id="detail-content" role="dialog" aria-modal="true">
            <div class="close-detail" role="button" tabindex="0" aria-label="Schlie√üen">‚úï</div>
        </div>
    </div>

    <!-- Comparison Button -->
    <button id="comparison-button" aria-label="Tools vergleichen">
        üîç Vergleichen (<span id="comparison-count">0</span>)
    </button>

    <script>
        // ==================== DATA ====================
        const aiTools = [
            {
                id: 1,
                name: "ChatGPT",
                category: "Text & Writing",
                description: "Fortschrittlichstes Sprachmodell f√ºr Konversationen, Content-Erstellung und komplexe Textaufgaben",
                icon: "üí¨",
                price: "Freemium",
                features: ["GPT-4 Modell", "Code-Generierung", "Multimodale Eingabe", "Custom Instructions"],
                url: "https://chat.openai.com"
            },
            {
                id: 2,
                name: "Midjourney",
                category: "Bild & Design",
                description: "KI-Bildgenerator f√ºr photorealistische und k√ºnstlerische Visualisierungen",
                icon: "üé®",
                price: "$10/Monat",
                features: ["V6 Modell", "Upscaling", "Style-Variation", "Commercial License"],
                url: "https://midjourney.com"
            },
            {
                id: 3,
                name: "Runway ML",
                category: "Video & Animation",
                description: "Professionelle Video-KI f√ºr Editing, Generierung und Special Effects",
                icon: "üé¨",
                price: "$12/Monat",
                features: ["Gen-2 Video", "Motion Tracking", "Green Screen", "Text-to-Video"],
                url: "https://runwayml.com"
            },
            {
                id: 4,
                name: "Perplexity AI",
                category: "Recherche & Analyse",
                description: "KI-Suchmaschine mit Quellenangaben f√ºr pr√§zise Research-Aufgaben",
                icon: "üîç",
                price: "Freemium",
                features: ["Echtzeit-Suche", "Quellenverweise", "Pro-Modus", "Follow-up Fragen"],
                url: "https://perplexity.ai"
            },
            {
                id: 5,
                name: "ElevenLabs",
                category: "Audio & Voice",
                description: "Realistische Text-to-Speech und Voice-Cloning-Technologie",
                icon: "üéôÔ∏è",
                price: "$5/Monat",
                features: ["29 Sprachen", "Voice Cloning", "Emotionale Intonation", "API-Zugang"],
                url: "https://elevenlabs.io"
            },
            {
                id: 6,
                name: "Notion AI",
                category: "Produktivit√§t",
                description: "KI-gest√ºtztes Workspace-Tool f√ºr Notizen, Projekte und Wissensmanagement",
                icon: "üìù",
                price: "$10/Monat",
                features: ["Auto-Summary", "Template-Generierung", "Q&A √ºber Docs", "Task-Automation"],
                url: "https://notion.so/ai"
            },
            {
                id: 7,
                name: "Copy.ai",
                category: "Marketing & Content",
                description: "KI-Copywriter f√ºr Ads, Social Media und Marketing-Texte",
                icon: "‚úçÔ∏è",
                price: "$49/Monat",
                features: ["90+ Templates", "SEO-Optimierung", "Brand Voice", "Multi-Language"],
                url: "https://copy.ai"
            },
            {
                id: 8,
                name: "GitHub Copilot",
                category: "Code & Development",
                description: "KI-Pair-Programmer f√ºr Code-Completion und Entwicklungs-Support",
                icon: "üë®‚Äçüíª",
                price: "$10/Monat",
                features: ["IDE-Integration", "Multi-Language", "Context-Aware", "Chat-Modus"],
                url: "https://github.com/features/copilot"
            },
            {
                id: 9,
                name: "Synthesia",
                category: "Video & Animation",
                description: "AI-Avatare f√ºr Video-Pr√§sentationen ohne Kamera oder Studio",
                icon: "üé≠",
                price: "$30/Monat",
                features: ["150+ Avatare", "65 Sprachen", "Custom Avatar", "Screen Recording"],
                url: "https://synthesia.io"
            },
            {
                id: 10,
                name: "Jasper AI",
                category: "Marketing & Content",
                description: "Enterprise-KI f√ºr Content-Marketing und Brand-Kommunikation",
                icon: "üöÄ",
                price: "$49/Monat",
                features: ["Boss Mode", "SEO-Tools", "Plagiarism Check", "Team-Kollaboration"],
                url: "https://jasper.ai"
            },
            {
                id: 11,
                name: "DALL-E 3",
                category: "Bild & Design",
                description: "OpenAIs Bildgenerator mit pr√§ziser Prompt-Befolgung",
                icon: "üñºÔ∏è",
                price: "$20/Monat",
                features: ["Text-im-Bild", "Inpainting", "Outpainting", "ChatGPT-Integration"],
                url: "https://openai.com/dall-e-3"
            },
            {
                id: 12,
                name: "Claude AI",
                category: "Text & Writing",
                description: "Anthropics KI-Assistent f√ºr lange Dokumente und ethische AI-Nutzung",
                icon: "ü§ñ",
                price: "$20/Monat",
                features: ["200K Context", "Constitutional AI", "Code-Analyse", "Document Upload"],
                url: "https://claude.ai"
            }
        ];

        // ==================== STATE ====================
        let comparisonList = [];
        let userPreferences = JSON.parse(localStorage.getItem('aiToolPrefs')) || {
            topCategories: [],
            searchHistory: []
        };

        // ==================== NEURAL BACKGROUND ====================
        const canvas = document.getElementById('neural-bg');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 80;
        const connectionDistance = 150;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.radius = Math.random() * 2 + 1;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;

                if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(0, 212, 255, 0.6)';
                ctx.fill();
            }
        }

        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle());
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            // Draw connections
            for (let i = 0; i < particles.length; i++) {
                for (let j = i + 1; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < connectionDistance) {
                        ctx.beginPath();
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(particles[j].x, particles[j].y);
                        ctx.strokeStyle = `rgba(0, 212, 255, ${0.2 * (1 - distance / connectionDistance)})`;
                        ctx.lineWidth = 0.5;
                        ctx.stroke();
                    }
                }
            }

            requestAnimationFrame(animateParticles);
        }

        animateParticles();

        // ==================== CUSTOM CURSOR ====================
        const cursor = document.getElementById('custom-cursor');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function updateCursor() {
            cursorX += (mouseX - cursorX) * 0.1;
            cursorY += (mouseY - cursorY) * 0.1;
            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';
            requestAnimationFrame(updateCursor);
        }

        updateCursor();

        // Hover effect for interactive elements
        document.addEventListener('mouseover', (e) => {
            if (e.target.matches('button, a, .tool-card, #neuro-orb')) {
                cursor.classList.add('hover');
            }
        });

        document.addEventListener('mouseout', (e) => {
            if (e.target.matches('button, a, .tool-card, #neuro-orb')) {
                cursor.classList.remove('hover');
            }
        });

        // ==================== LANDING SCREEN ====================
        const landingScreen = document.getElementById('landing-screen');
        const neuroOrb = document.getElementById('neuro-orb');
        const searchContainer = document.getElementById('search-container');

        function startExperience() {
            landingScreen.classList.add('hidden');
            setTimeout(() => {
                searchContainer.classList.add('visible');
                renderTools(aiTools);
            }, 800);
        }

        neuroOrb.addEventListener('click', startExperience);
        neuroOrb.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                startExperience();
            }
        });

        // ==================== INTELLIGENT SEARCH ====================
        const searchInput = document.getElementById('intelligent-search');
        const intentIndicator = document.getElementById('intent-indicator');

        const intentKeywords = {
            'erstellen': ['create', 'generieren', 'machen', 'bauen', 'produzieren'],
            'bearbeiten': ['edit', '√§ndern', 'anpassen', 'modifizieren'],
            'analysieren': ['analyze', 'auswerten', 'untersuchen', 'recherchieren'],
            'schreiben': ['write', 'text', 'artikel', 'content'],
            'design': ['design', 'gestalten', 'bild', 'grafik'],
            'video': ['video', 'film', 'animation', 'clip'],
            'audio': ['audio', 'voice', 'musik', 'sound'],
            'code': ['code', 'programmieren', 'entwickeln', 'software']
        };

        const categoryMapping = {
            'erstellen': ['Bild & Design', 'Video & Animation', 'Text & Writing'],
            'bearbeiten': ['Bild & Design', 'Video & Animation'],
            'schreiben': ['Text & Writing', 'Marketing & Content'],
            'design': ['Bild & Design'],
            'video': ['Video & Animation'],
            'audio': ['Audio & Voice'],
            'code': ['Code & Development'],
            'analysieren': ['Recherche & Analyse']
        };

        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            
            if (query.length === 0) {
                renderTools(aiTools);
                intentIndicator.classList.remove('visible');
                return;
            }

            // Intent Detection
            let detectedIntent = null;
            for (const [intent, keywords] of Object.entries(intentKeywords)) {
                if (keywords.some(kw => query.includes(kw))) {
                    detectedIntent = intent;
                    break;
                }
            }

            if (detectedIntent) {
                intentIndicator.textContent = `üí° Ich verstehe: Du m√∂chtest ${detectedIntent}`;
                intentIndicator.classList.add('visible');

                const relevantCategories = categoryMapping[detectedIntent] || [];
                const filtered = aiTools.filter(tool => 
                    relevantCategories.includes(tool.category) ||
                    tool.name.toLowerCase().includes(query) ||
                    tool.description.toLowerCase().includes(query)
                );
                renderTools(filtered);
            } else {
                // Fuzzy Search Fallback
                const filtered = aiTools.filter(tool =>
                    tool.name.toLowerCase().includes(query) ||
                    tool.description.toLowerCase().includes(query) ||
                    tool.category.toLowerCase().includes(query)
                );
                renderTools(filtered);
                intentIndicator.classList.remove('visible');
            }

            // Save search history
            if (!userPreferences.searchHistory.includes(query)) {
                userPreferences.searchHistory.push(query);
                if (userPreferences.searchHistory.length > 10) {
                    userPreferences.searchHistory.shift();
                }
                localStorage.setItem('aiToolPrefs', JSON.stringify(userPreferences));
            }
        });

        // ==================== RENDER TOOLS ====================
        const toolsGrid = document.getElementById('tools-grid');

        function renderTools(tools) {
            toolsGrid.innerHTML = '';
            
            tools.forEach((tool, index) => {
                const card = document.createElement('div');
                card.className = 'tool-card';
                card.setAttribute('role', 'listitem');
                card.innerHTML = `
                    <div class="tool-icon">${tool.icon}</div>
                    <h3>${tool.name}</h3>
                    <p>${tool.description}</p>
                    <div class="tool-meta">
                        <span class="tool-category">${tool.category}</span>
                        <span class="tool-price">${tool.price}</span>
                    </div>
                `;

                // Staggered animation
                setTimeout(() => {
                    card.classList.add('visible');
                }, index * 100);

                // Click handler
                card.addEventListener('click', () => showDetails(tool));

                // Magnetic effect
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    
                    card.style.transform = `translateY(-10px) scale(1.02) rotateY(${x / 20}deg) rotateX(${-y / 20}deg)`;
                });

                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0) scale(1)';
                });

                // Comparison tracking
                let hoverTimeout;
                card.addEventListener('mouseenter', () => {
                    hoverTimeout = setTimeout(() => {
                        addToComparison(tool);
                    }, 3000);
                });

                card.addEventListener('mouseleave', () => {
                    clearTimeout(hoverTimeout);
                });

                toolsGrid.appendChild(card);
            });
        }

        // ==================== DETAIL OVERLAY ====================
        const detailOverlay = document.getElementById('detail-overlay');
        const detailContent = document.getElementById('detail-content');

        function showDetails(tool) {
            detailContent.innerHTML = `
                <div class="close-detail" role="button" tabindex="0" aria-label="Schlie√üen">‚úï</div>
                <div class="tool-icon" style="margin: 0 auto 2rem;">${tool.icon}</div>
                <h2 style="text-align: center; margin-bottom: 1rem; color: var(--primary);">${tool.name}</h2>
                <p style="text-align: center; margin-bottom: 2rem; opacity: 0.8;">${tool.description}</p>
                
                <div style="background: rgba(0,212,255,0.1); padding: 1.5rem; border-radius: 15px; margin-bottom: 2rem;">
                    <h3 style="margin-bottom: 1rem; color: var(--secondary);">Features</h3>
                    <ul style="list-style: none; padding: 0;">
                        ${tool.features.map(f => `<li style="margin-bottom: 0.5rem;">‚úì ${f}</li>`).join('')}
                    </ul>
                </div>

                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-size: 1.5rem; font-weight: 600; color: var(--primary);">${tool.price}</span>
                    <a href="${tool.url}" target="_blank" rel="noopener noreferrer" 
                       style="padding: 1rem 2rem; background: linear-gradient(135deg, var(--primary), var(--secondary)); 
                              border-radius: 50px; color: white; text-decoration: none; font-weight: 600;">
                        Jetzt ausprobieren ‚Üí
                    </a>
                </div>
            `;

            detailOverlay.classList.add('visible');

            const closeBtn = detailContent.querySelector('.close-detail');
            closeBtn.addEventListener('click', closeDetails);
            closeBtn.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    closeDetails();
                }
            });

            // Track category preference
            if (!userPreferences.topCategories.includes(tool.category)) {
                userPreferences.topCategories.push(tool.category);
            }
            localStorage.setItem('aiToolPrefs', JSON.stringify(userPreferences));
        }

        function closeDetails() {
            detailOverlay.classList.remove('visible');
        }

        detailOverlay.addEventListener('click', (e) => {
            if (e.target === detailOverlay) {
                closeDetails();
            }
        });

        // ==================== COMPARISON MODE ====================
        const comparisonButton = document.getElementById('comparison-button');
        const comparisonCount = document.getElementById('comparison-count');

        function addToComparison(tool) {
            if (comparisonList.length < 3 && !comparisonList.find(t => t.id === tool.id)) {
                comparisonList.push(tool);
                comparisonCount.textContent = comparisonList.length;
                comparisonButton.classList.add('visible');
            }
        }

        comparisonButton.addEventListener('click', () => {
            if (comparisonList.length < 2) {
                alert('Bitte w√§hle mindestens 2 Tools zum Vergleichen aus (hover 3+ Sekunden).');
                return;
            }

            const comparisonHTML = `
                <div class="close-detail" role="button" tabindex="0" aria-label="Schlie√üen">‚úï</div>
                <h2 style="text-align: center; margin-bottom: 2rem; color: var(--primary);">Tool-Vergleich</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
                    ${comparisonList.map(tool => `
                        <div style="background: rgba(0,212,255,0.1); padding: 1.5rem; border-radius: 15px;">
                            <div class="tool-icon" style="margin-bottom: 1rem;">${tool.icon}</div>
                            <h3 style="color: var(--primary); margin-bottom: 1rem;">${tool.name}</h3>
                            <p style="opacity: 0.8; margin-bottom: 1rem;">${tool.description}</p>
                            <div style="font-weight: 600; color: var(--secondary);">${tool.price}</div>
                        </div>
                    `).join('')}
                </div>
                <button onclick="clearComparison()" style="margin-top: 2rem; padding: 1rem 2rem; background: var(--secondary); 
                        border: none; border-radius: 50px; color: white; cursor: pointer; width: 100%;">
                    Vergleich beenden
                </button>
            `;

            detailContent.innerHTML = comparisonHTML;
            detailOverlay.classList.add('visible');

            const closeBtn = detailContent.querySelector('.close-detail');
            closeBtn.addEventListener('click', closeDetails);
        });

        window.clearComparison = function() {
            comparisonList = [];
            comparisonCount.textContent = '0';
            comparisonButton.classList.remove('visible');
            closeDetails();
        };

        // ==================== ADAPTIVE LAYOUT ====================
        window.addEventListener('load', () => {
            if (userPreferences.topCategories.length > 0) {
                const topCategory = userPreferences.topCategories[0];
                const prioritized = aiTools.sort((a, b) => {
                    if (a.category === topCategory) return -1;
                    if (b.category === topCategory) return 1;
                    return 0;
                });
                // Initial render will happen after landing animation
            }
        });

        // ==================== KEYBOARD ACCESSIBILITY ====================
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeDetails();
                clearComparison();
            }
        });

        // ==================== RESIZE HANDLER ====================
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
