<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<meta http-equiv="Content-Security-Policy" content="default-src 'self';img-src 'self' https: data:;style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com;font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com data:;script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://www.googletagmanager.com https://www.google-analytics.com https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2;connect-src 'self' https://www.google-analytics.com https://www.googletagmanager.com https://*.supabase.co;base-uri 'self';frame-ancestors 'none'">
<title>AI Searcher - Finde sofort dein perfektes KI-Tool</title>
<meta name="description" content="Finde in 2 Klicks dein perfektes KI-Tool. Echte User-Bewertungen, intelligente Empfehlungen, Favoriten & Vergleichsfunktion.">
<meta name="keywords" content="KI Tools, AI Software, ChatGPT Alternativen, KI Bildgeneratoren, kostenlose KI Tools">
<meta name="google-site-verification" content="Wo_6LQQ8LoGlobalzVMjBHh_Z-VD3N_dFdqCZb2BYxV0">
<link rel="canonical" href="https://ai-searcher.github.io/ai-tool-hub/">
<link rel="alternate" hreflang="de" href="https://ai-searcher.github.io/ai-tool-hub/">
<link rel="alternate" hreflang="en" href="https://ai-searcher.github.io/ai-tool-hub/">
<link rel="alternate" hreflang="x-default" href="https://ai-searcher.github.io/ai-tool-hub/">
<meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1">
<meta property="og:type" content="website">
<meta property="og:title" content="AI Searcher - Finde sofort dein perfektes KI-Tool">
<meta property="og:description" content="Finde in 2 Klicks dein perfektes KI-Tool. Echte User-Bewertungen, intelligente Empfehlungen.">
<meta property="og:url" content="https://ai-searcher.github.io/ai-tool-hub/">
<meta property="og:site_name" content="AI Searcher">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="AI Searcher">
<meta name="twitter:description" content="Finde in 2 Klicks dein perfektes KI-Tool">
<script>window.cookiePreferences=window.cookiePreferences||{};window.cookiePreferences.analytics=!1</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"AI Searcher","url":"https://ai-searcher.github.io/ai-tool-hub/","description":"Finde in 2 Klicks dein perfektes KI-Tool. Echte User-Bewertungen, intelligente Empfehlungen.","potentialAction":{"@type":"SearchAction","target":"https://ai-searcher.github.io/ai-tool-hub/?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<style>
:root {
  --primary: #00d4ff;
  --primary-dark: #00a8cc;
  --secondary: #a855f7;
  --accent: #00ff9d;
  --bg-dark: #0a0e17;
  --bg-card: #141824;
  --bg-hover: #1a1f2e;
  --text-primary: #fff;
  --text-secondary: #a0aec0;
  --text-muted: #718096;
  --border: hsla(0,0%,100%,.05);
  --border-hover: rgba(0,212,255,.3);
  --success: #10b981;
  --error: #ef4444;
  --warning: #f59e0b;
  --gold: #fbbf24;
  --shadow: 0 4px 20px rgba(0,0,0,.4);
  --shadow-hover: 0 8px 40px rgba(0,212,255,.15);
  --radius: 12px;
  --radius-lg: 16px;
  --transition: all .2s cubic-bezier(.4,0,.2,1);
  --density-cozy: 1.2;
  --density-compact: 1;
  --density-future: .8;
  --current-density: 1;
  --tool-row-height: calc(60px*var(--current-density));
  --group-header-height: calc(52px*var(--current-density));
  --header-height: 60px;
  --drawer-width: 500px;
  --hero-height: 280px;
  --cookie-height: 70px;
}

html, body {
  height: 100%;
  background-color: var(--bg-dark) !important;
  margin: 0;
  padding: 0;
  position: relative;
}

body {
  min-height: 100%;
  padding-bottom: env(safe-area-inset-bottom);
  background: linear-gradient(135deg, #0a0e17, #12151f) !important;
}

.density-cozy {
  --current-density: var(--density-cozy);
}

.density-compact {
  --current-density: var(--density-compact);
}

.density-future {
  --current-density: var(--density-future);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Inter, -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(135deg, #0a0e17, #12151f);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.6;
  position: relative;
  font-size: calc(.9rem*var(--current-density));
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 20% 20%, rgba(0,212,255,.08) 0, transparent 50%), radial-gradient(circle at 80% 80%, rgba(168,85,247,.08) 0, transparent 50%), radial-gradient(circle at 40% 60%, rgba(0,255,157,.05) 0, transparent 50%);
  z-index: -1;
  pointer-events: none;
  animation: pulseBackground 20s ease-in-out infinite alternate;
}

@keyframes pulseBackground {
  0% { opacity: .7; transform: scale(1); }
  100% { opacity: 1; transform: scale(1.05); }
}

.glow {
  position: absolute;
  width: 200px;
  height: 200px;
  border-radius: 50%;
  filter: blur(100px);
  opacity: .15;
  z-index: -1;
  animation: floatGlow 15s infinite ease-in-out;
}

.glow-1 {
  background: var(--primary);
  top: 10%;
  left: 10%;
  animation-delay: 0s;
}

.glow-2 {
  background: var(--secondary);
  top: 60%;
  right: 10%;
  animation-delay: 5s;
}

.glow-3 {
  background: var(--accent);
  bottom: 20%;
  left: 30%;
  animation-delay: 10s;
}

@keyframes floatGlow {
  0%, 100% { transform: translate(0,0) scale(1); }
  33% { transform: translate(30px,-30px) scale(1.2); }
  66% { transform: translate(-20px,20px) scale(.8); }
}

.cookie-consent {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-card);
  border-top: 1px solid var(--border);
  padding: 15px 20px;
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  box-shadow: 0 -4px 20px rgba(0,0,0,.5);
  transform: translateY(100%);
  transition: transform 0.3s ease;
}

.cookie-consent.active {
  transform: translateY(0);
}

.cookie-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  flex-wrap: wrap;
  gap: 15px;
}

.cookie-text {
  color: var(--text-secondary);
  font-size: .85rem;
  flex: 1;
  min-width: 300px;
}

.cookie-text strong {
  color: var(--text-primary);
}

.cookie-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: nowrap;
}

.cookie-btn {
  padding: 8px 16px;
  border-radius: var(--radius);
  font-weight: 600;
  font-size: .85rem;
  cursor: pointer;
  transition: var(--transition);
  border: 1px solid transparent;
  white-space: nowrap;
}

.cookie-btn.decline {
  background: var(--bg-hover);
  color: var(--text-secondary);
  border-color: var(--border);
}

.cookie-btn.decline:hover {
  background: var(--bg-dark);
  color: var(--text-primary);
}

.cookie-btn.settings {
  background: rgba(168,85,247,.1);
  color: var(--secondary);
  border-color: rgba(168,85,247,.3);
}

.cookie-btn.settings:hover {
  background: rgba(168,85,247,.2);
  color: var(--secondary);
}

.cookie-btn.accept {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: #fff;
  border: none;
}

.cookie-btn.accept:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0,212,255,.3);
}

.sticky-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  background: rgba(10,14,23,.95);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
  z-index: 1000;
  padding: 0 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}

.site-title {
  font-family: Orbitron, sans-serif;
  font-size: 1.8rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--accent), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 1px;
  transition: var(--transition);
  cursor: default;
  position: relative;
  padding: 8px 0;
}

.site-title:hover {
  transform: translateY(-2px);
  text-shadow: 0 5px 15px rgba(0,212,255,.4);
  background: linear-gradient(135deg, #00ff9d, #00d4ff, #a855f7);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.site-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  transition: width .3s ease;
}

.site-title:hover::after {
  width: 100%;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.hero-area {
  position: relative;
  margin-top: var(--header-height);
  height: var(--hero-height);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 0 20px;
  text-align: center;
  background: linear-gradient(180deg, rgba(10,14,23,.8), transparent);
  overflow: hidden;
}

.hero-title {
  font-weight: 800;
  font-size: 3rem;
  background: linear-gradient(135deg, var(--primary), var(--accent), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 24px;
  letter-spacing: -.5px;
  position: relative;
  display: inline-block;
  animation: titleGlow 3s infinite alternate;
}

.hero-title::after {
  content: 'ü§ñ';
  position: absolute;
  right: -45px;
  top: 0;
  font-size: 2rem;
  animation: float 3s infinite ease-in-out;
}

@keyframes titleGlow {
  0% { filter: drop-shadow(0 0 5px rgba(0,212,255,.3)); }
  100% { filter: drop-shadow(0 0 20px rgba(0,212,255,.7)); }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.hero-subtitle {
  font-size: 1.1rem;
  color: var(--text-secondary);
  margin-bottom: 32px;
  max-width: 600px;
  font-weight: 400;
  opacity: .9;
}

.hero-search-container {
  width: 100%;
  max-width: 600px;
  position: relative;
  margin: 0 auto 16px;
}

.hero-omnibox {
  width: 100%;
  position: relative;
}

.hero-omnibox-input {
  width: 100%;
  padding: 16px 24px;
  background: rgba(20,24,36,.8);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  color: var(--text-primary);
  font-size: 1rem;
  transition: var(--transition);
  font-family: Inter, sans-serif;
  backdrop-filter: blur(10px);
}

.hero-omnibox-input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(0,212,255,.1), 0 0 30px rgba(0,212,255,.2);
  background: rgba(26,31,46,.9);
}

.hero-omnibox-input::placeholder {
  color: var(--text-muted);
}

.search-hint-grid {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  margin-top: 20px;
  opacity: .8;
}

.search-hint-text {
  font-size: .85rem;
  color: var(--text-secondary);
  font-weight: 500;
}

.search-examples {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  justify-content: center;
}

.search-example {
  font-size: .8rem;
  color: var(--text-muted);
  padding: 4px 12px;
  background: rgba(255,255,255,.03);
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,.05);
  transition: var(--transition);
  cursor: pointer;
}

.search-example:hover {
  color: var(--primary);
  border-color: rgba(0,212,255,.2);
  background: rgba(0,212,255,.05);
  transform: translateY(-2px);
}

.lang-btn {
  background: rgba(20,24,36,.8);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 8px 16px;
  color: var(--primary);
  font-weight: 600;
  font-size: .8rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: var(--transition);
}

.lang-btn:hover {
  background: rgba(26,31,46,.8);
  border-color: var(--primary);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,212,255,.2);
}

.top5-bar {
  background: rgba(20,24,36,.6);
  border: 1px solid rgba(0,212,255,.1);
  border-radius: var(--radius);
  padding: 12px 16px;
  margin: 20px auto;
  max-width: 1400px;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
  animation: slideInUp .6s ease-out;
}

@keyframes slideInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.top5-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255,255,255,.05);
}

.top5-header i {
  color: var(--primary);
  font-size: .9rem;
}

.top5-header span {
  font-weight: 700;
  font-size: .9rem;
  color: var(--text-primary);
}

.top5-list {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding: 4px 0;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
}

.top5-list::-webkit-scrollbar {
  height: 4px;
}

.top5-list::-webkit-scrollbar-track {
  background: rgba(255,255,255,.05);
  border-radius: 2px;
}

.top5-list::-webkit-scrollbar-thumb {
  background: var(--primary);
  border-radius: 2px;
}

.top5-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: rgba(26,31,46,.5);
  border-radius: 8px;
  border: 1px solid transparent;
  transition: var(--transition);
  min-width: 180px;
  flex-shrink: 0;
  cursor: pointer;
  position: relative;
}

.top5-item:hover {
  background: rgba(26,31,46,.8);
  border-color: rgba(0,212,255,.3);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,212,255,.2);
}

.top5-rank {
  font-weight: 800;
  font-size: .9rem;
  color: var(--primary);
  width: 18px;
  text-align: center;
}

.top5-icon {
  font-size: .9rem;
  width: 20px;
  text-align: center;
}

.top5-info {
  flex: 1;
  min-width: 0;
}

.top5-name {
  font-weight: 600;
  font-size: .85rem;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.top5-category {
  font-size: .65rem;
  color: var(--primary);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .3px;
}

.top5-votes {
  font-weight: 800;
  font-size: .85rem;
  color: var(--text-primary);
  background: rgba(0,212,255,.1);
  padding: 2px 6px;
  border-radius: 6px;
  min-width: 24px;
  text-align: center;
  transition: all .3s ease;
}

.top5-votes.changed {
  animation: pulseGlow .6s ease;
}

@keyframes pulseGlow {
  0%, 100% { transform: scale(1); box-shadow: none; }
  50% { transform: scale(1.1); box-shadow: 0 0 15px rgba(0,212,255,.5); }
}

.top5-quickpeek {
  font-size: .7rem;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px;
  display: none;
}

@media (min-width: 768px) {
  .top5-quickpeek { display: block; }
}

.filter-chips {
  display: flex;
  gap: 8px;
  flex-wrap: nowrap;
  overflow-x: auto;
  padding: 8px 0;
  margin: 0 auto 20px;
  max-width: 1400px;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.filter-chips::-webkit-scrollbar {
  display: none;
}

.filter-chip {
  background: rgba(20,24,36,.8);
  border: 1px solid var(--border);
  color: var(--text-secondary);
  padding: 6px 14px;
  border-radius: 20px;
  font-size: .8rem;
  cursor: pointer;
  transition: var(--transition);
  white-space: nowrap;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 6px;
}

.filter-chip:hover {
  border-color: var(--primary);
  color: var(--primary);
  transform: translateY(-2px);
}

.filter-chip.active {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-color: transparent;
  color: #fff;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(0,212,255,.2);
}

.main-content {
  padding: 20px;
  max-width: 1400px;
  margin-left: auto;
  margin-right: auto;
  padding-bottom: 80px;
}

.tool-groups {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.tool-group {
  background: var(--bg-card);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  overflow: hidden;
  box-shadow: var(--shadow);
  transition: var(--transition);
  animation: fadeIn .4s ease-out;
}

.tool-group:hover {
  box-shadow: var(--shadow-hover);
  transform: translateY(-2px);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.group-header {
  padding: 16px 20px;
  background: rgba(26,31,46,.5);
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  user-select: none;
  transition: var(--transition);
  height: var(--group-header-height);
}

.group-header:hover {
  background: rgba(26,31,46,.8);
}

.group-title {
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 700;
  font-size: calc(1rem*var(--current-density));
  color: var(--text-primary);
}

.group-icon {
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
}

.group-count {
  color: var(--text-muted);
  font-size: calc(.8rem*var(--current-density));
  margin-left: 8px;
}

.group-toggle {
  color: var(--text-secondary);
  transition: var(--transition);
  font-size: .9rem;
}

.group-toggle i {
  transition: transform .3s ease;
}

.group-toggle.expanded i {
  transform: rotate(180deg);
}

.group-content {
  max-height: calc(var(--tool-row-height)*2);
  overflow: hidden;
  transition: max-height .4s cubic-bezier(.4,0,.2,1);
  position: relative;
}

.group-content.expanded {
  max-height: 5000px;
}

.info-btn {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: .75rem;
  transition: var(--transition);
  margin-left: 6px;
}

.info-btn:hover {
  color: var(--primary);
  background: rgba(0,212,255,.1);
  transform: scale(1.1);
}

.tool-row {
  height: var(--tool-row-height);
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  padding: 0 20px;
  border-bottom: 1px solid var(--border);
  cursor: pointer;
  transition: var(--transition);
  position: relative;
}

.tool-row:last-child {
  border-bottom: none;
}

.tool-row:hover {
  background: var(--bg-hover);
}

.tool-row:hover .tool-peek {
  opacity: 1;
  transform: translateY(-50%) scale(1);
}

.tool-vote {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  min-width: 70px;
  padding-right: 15px;
}

.vote-count {
  font-weight: 800;
  font-size: calc(1.1rem*var(--current-density));
  color: var(--text-primary);
  transition: all .3s ease;
}

.vote-count.moving-up {
  color: var(--success);
  animation: countUp .5s ease;
}

.vote-count.moving-down {
  color: var(--error);
  animation: countDown .5s ease;
}

@keyframes countUp {
  0% { transform: translateY(10px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes countDown {
  0% { transform: translateY(-10px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

.vote-buttons {
  display: flex;
  gap: 6px;
}

.vote-btn-row {
  background: var(--bg-hover);
  border: 1px solid var(--border);
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition);
  padding: 6px;
  border-radius: 6px;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: .9rem;
}

.vote-btn-row:hover {
  transform: translateY(-2px);
}

.vote-btn-row.up {
  color: var(--success);
  border-color: rgba(16,185,129,.2);
}

.vote-btn-row.up:hover,
.vote-btn-row.up.active {
  background: rgba(16,185,129,.15);
  border-color: var(--success);
  box-shadow: 0 4px 12px rgba(16,185,129,.2);
}

.vote-btn-row.down {
  color: var(--error);
  border-color: rgba(239,68,68,.2);
}

.vote-btn-row.down:hover,
.vote-btn-row.down.active {
  background: rgba(239,68,68,.15);
  border-color: var(--error);
  box-shadow: 0 4px 12px rgba(239,68,68,.2);
}

.tool-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
  padding-right: 20px;
}

.tool-name {
  font-weight: 700;
  font-size: calc(1rem*var(--current-density));
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: 8px;
}

.tool-category {
  font-size: calc(.7rem*var(--current-density));
  color: var(--primary);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .5px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.tool-desc {
  font-size: calc(.85rem*var(--current-density));
  color: var(--text-secondary);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.tool-meta {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
  min-width: 140px;
}

.tool-price {
  font-size: calc(.9rem*var(--current-density));
  color: var(--success);
  font-weight: 700;
}

.tool-actions {
  display: flex;
  gap: 6px;
}

.tool-action-btn {
  background: var(--bg-hover);
  border: 1px solid var(--border);
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition);
  padding: 8px;
  border-radius: 8px;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: .9rem;
}

.tool-action-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
}

.tool-action-btn.favorite:hover,
.tool-action-btn.favorite.active {
  color: var(--gold);
  border-color: var(--gold);
  background: rgba(251,191,36,.1);
}

.tool-action-btn.compare:hover,
.tool-action-btn.compare.active {
  color: var(--primary);
  border-color: var(--primary);
  background: rgba(0,212,255,.1);
}

.tool-action-btn.open:hover {
  color: var(--success);
  border-color: var(--success);
  background: rgba(16,185,129,.1);
}

.collapse-button {
  padding: 12px 20px;
  text-align: center;
  border-top: 1px solid var(--border);
  cursor: pointer;
  color: var(--primary);
  font-weight: 600;
  font-size: calc(.85rem*var(--current-density));
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: var(--bg-card);
  margin: 0;
}

.collapse-button:hover {
  background: rgba(0,212,255,.05);
}

.show-more {
  padding: 12px 20px;
  text-align: center;
  border-top: 1px solid var(--border);
  cursor: pointer;
  color: var(--primary);
  font-weight: 600;
  font-size: calc(.85rem*var(--current-density));
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.show-more:hover {
  background: rgba(0,212,255,.05);
}

.tool-peek {
  position: absolute;
  left: 100%;
  top: 50%;
  transform: translateY(-50%) scale(.95);
  width: 300px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow-hover);
  z-index: 100;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease, transform .2s ease;
  margin-left: 20px;
  animation: popIn .3s ease;
}

@keyframes popIn {
  0% { transform: translateY(-50%) scale(.8); opacity: 0; }
  100% { transform: translateY(-50%) scale(1); opacity: 1; }
}

.tool-peek::before {
  content: '';
  position: absolute;
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  border: 8px solid transparent;
  border-right-color: var(--border);
}

.tool-peek::after {
  content: '';
  position: absolute;
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  border: 7px solid transparent;
  border-right-color: var(--bg-card);
  margin-right: -1px;
}

.peek-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.peek-icon {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

.peek-name {
  font-weight: 800;
  font-size: 1.1rem;
  color: var(--text-primary);
}

.peek-category {
  font-size: .7rem;
  color: var(--primary);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.peek-desc {
  font-size: .85rem;
  color: var(--text-secondary);
  line-height: 1.5;
  margin-bottom: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.peek-meta {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.peek-badge {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: .75rem;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.peek-badge.price {
  background: rgba(16,185,129,.15);
  color: var(--success);
  border: 1px solid rgba(16,185,129,.3);
}

.peek-badge.rating {
  background: rgba(251,191,36,.15);
  color: var(--gold);
  border: 1px solid rgba(251,191,36,.3);
}

.peek-badge.ltd {
  background: linear-gradient(135deg, #f59e0b, #ef4444);
  color: #fff;
  border: none;
}

.drawer-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,.7);
  backdrop-filter: blur(5px);
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: opacity .3s ease, visibility .3s ease;
}

.drawer-overlay.active {
  opacity: 1;
  visibility: visible;
}

.drawer {
  position: fixed;
  top: 0;
  right: 0;
  width: var(--drawer-width);
  height: 100%;
  background: var(--bg-card);
  border-left: 1px solid var(--border);
  z-index: 2001;
  transform: translateX(100%);
  transition: transform .3s cubic-bezier(.4,0,.2,1);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}

.drawer.active {
  transform: translateX(0);
}

.drawer-header {
  padding: 20px;
  border-bottom: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-shrink: 0;
}

.drawer-title {
  font-size: 1.4rem;
  font-weight: 800;
  color: var(--text-primary);
}

.drawer-close {
  background: var(--bg-hover);
  border: 1px solid var(--border);
  color: var(--text-secondary);
  cursor: pointer;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}

.drawer-close:hover {
  color: var(--error);
  border-color: var(--error);
  background: rgba(239,68,68,.1);
}

.drawer-body {
  padding: 20px;
  flex: 1;
  overflow-y: auto;
}

.notification {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  box-shadow: var(--shadow-hover);
  z-index: 3000;
  animation: slideInRight .3s ease;
  max-width: 400px;
}

@keyframes slideInRight {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

.notification.success {
  border-color: var(--success);
}

.notification.error {
  border-color: var(--error);
}

.notification.info {
  border-color: var(--primary);
}

.notification i {
  font-size: 1.2rem;
}

.notification.success i {
  color: var(--success);
}

.notification.error i {
  color: var(--error);
}

.notification.info i {
  color: var(--primary);
}

.notification span {
  flex: 1;
  color: var(--text-primary);
  font-size: .9rem;
}

.notification-close {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  width: 24px;
  height: 24px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}

.notification-close:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

@media (max-width: 768px) {
  .hero-title {
    font-size: 2rem;
  }
  .hero-title::after {
    right: -35px;
    font-size: 1.5rem;
  }
  .drawer {
    width: 100%;
  }
  .tool-peek {
    display: none !important;
  }
}

@media (max-width: 480px) {
  .site-title {
    font-size: 1.3rem;
  }
  .hero-title {
    font-size: 1.5rem;
  }
  .hero-subtitle {
    font-size: .9rem;
  }
  .cookie-content {
    flex-direction: column;
  }
  .cookie-text {
    min-width: 100%;
  }
}
</style>
</head>
<body class="density-compact">
<div class="glow glow-1"></div>
<div class="glow glow-2"></div>
<div class="glow glow-3"></div>

<div class="cookie-consent" id="cookieConsent">
  <div class="cookie-content">
    <div class="cookie-text">
      <strong>üç™ Cookies & Analytics</strong><br>
      Wir nutzen Cookies f√ºr Analytics (Google Analytics) um unsere Website zu verbessern.
    </div>
    <div class="cookie-buttons">
      <button class="cookie-btn decline" onclick="handleCookieDecline()">Ablehnen</button>
      <button class="cookie-btn accept" onclick="handleCookieAccept()">Akzeptieren</button>
    </div>
  </div>
</div>

<header class="sticky-header">
  <div class="site-title">AI SEARCHER</div>
  <div class="header-right">
    <button class="lang-btn" onclick="toggleLanguage()">
      <i class="fas fa-globe"></i>
      <span id="currentLang">DE</span>
    </button>
  </div>
</header>

<section class="hero-area">
  <h1 class="hero-title" data-de="Finde dein KI-Tool" data-en="Find your AI Tool">Finde dein KI-Tool</h1>
  <p class="hero-subtitle" data-de="50+ handverlesene KI-Tools mit Echtzeitbewertungen, intelligenten Empfehlungen und Vergleichsfunktion" data-en="50+ handpicked AI tools with real-time ratings, smart recommendations and comparison feature">50+ handverlesene KI-Tools mit Echtzeitbewertungen, intelligenten Empfehlungen und Vergleichsfunktion</p>
  
  <div class="hero-search-container">
    <div class="hero-omnibox">
      <input type="text" 
             class="hero-omnibox-input" 
             id="heroSearch" 
             placeholder="Suche nach KI-Tools... (z.B. 'Bildgenerierung', 'ChatGPT')"
             data-placeholder-de="Suche nach KI-Tools... (z.B. 'Bildgenerierung', 'ChatGPT')"
             data-placeholder-en="Search for AI tools... (e.g. 'Image generation', 'ChatGPT')">
    </div>
  </div>
  
  <div class="search-hint-grid">
    <span class="search-hint-text" data-de="Beliebte Suchen:" data-en="Popular searches:">Beliebte Suchen:</span>
    <div class="search-examples">
      <span class="search-example" onclick="searchByExample(this)" data-de="Bildgenerierung" data-en="Image generation">Bildgenerierung</span>
      <span class="search-example" onclick="searchByExample(this)" data-de="Textgenerierung" data-en="Text generation">Textgenerierung</span>
      <span class="search-example" onclick="searchByExample(this)" data-de="Kostenlos" data-en="Free">Kostenlos</span>
    </div>
  </div>
</section>

<div class="main-content" style="padding-top: 0;">
  <div class="top5-bar" id="top5Bar">
    <div class="top5-header">
      <i class="fas fa-fire"></i>
      <span data-de="üèÜ Top 5 - Community Favoriten (Live)" data-en="üèÜ Top 5 - Community Favorites (Live)">üèÜ Top 5 - Community Favoriten (Live)</span>
    </div>
    <div class="top5-list" id="top5List">
      <!-- Wird dynamisch gef√ºllt -->
    </div>
  </div>

  <div class="filter-chips" id="filterChips">
    <!-- Wird dynamisch gef√ºllt -->
  </div>

  <div class="tool-groups" id="toolGroups">
    <!-- Wird dynamisch gef√ºllt -->
  </div>
</div>

<div class="drawer-overlay" id="favoritesOverlay" onclick="closeModal('favorites')"></div>
<div class="drawer" id="favorites">
  <div class="drawer-header">
    <div class="drawer-title" data-de="‚≠ê Meine Favoriten" data-en="‚≠ê My Favorites">‚≠ê Meine Favoriten</div>
    <button class="drawer-close" onclick="closeModal('favorites')">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="drawer-body" id="favoritesBody">
    <!-- Wird dynamisch gef√ºllt -->
  </div>
</div>

<div class="drawer-overlay" id="compareOverlay" onclick="closeModal('compare')"></div>
<div class="drawer" id="compare">
  <div class="drawer-header">
    <div class="drawer-title" data-de="üîç Vergleich" data-en="üîç Compare">üîç Vergleich</div>
    <button class="drawer-close" onclick="closeModal('compare')">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="drawer-body" id="compareBody">
    <!-- Wird dynamisch gef√ºllt -->
  </div>
</div>

<script>
// ==============================================
// KONFIGURATION & GLOBALE VARIABLEN
// ==============================================

// ‚ö†Ô∏è WICHTIG: SUPABASE CREDENTIALS HIER EINF√úGEN
const SUPABASE_URL = 'DEINE_SUPABASE_URL_HIER';  // z.B. 'https://abcdefghijk.supabase.co'
const SUPABASE_ANON_KEY = 'DEIN_SUPABASE_ANON_KEY_HIER';  // Dein Supabase anon/public Key

// Supabase Client initialisieren
let supabase = null;
let realtimeChannel = null;

// Pr√ºfe ob Supabase verf√ºgbar ist
if (typeof supabase === 'undefined' && window.supabase) {
  console.log('‚úÖ Supabase SDK geladen');
} else {
  console.warn('‚ö†Ô∏è Supabase SDK nicht gefunden');
}

// Initialisiere Supabase Client nur wenn Credentials vorhanden
function initializeSupabase() {
  if (!SUPABASE_URL || !SUPABASE_ANON_KEY || 
      SUPABASE_URL === 'DEINE_SUPABASE_URL_HIER' || 
      SUPABASE_ANON_KEY === 'DEIN_SUPABASE_ANON_KEY_HIER') {
    console.warn('‚ö†Ô∏è Supabase Credentials nicht konfiguriert. Bitte SUPABASE_URL und SUPABASE_ANON_KEY eintragen!');
    return false;
  }
  
  try {
    supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    console.log('‚úÖ Supabase Client initialisiert');
    return true;
  } catch (error) {
    console.error('‚ùå Fehler beim Initialisieren von Supabase:', error);
    return false;
  }
}

// Globale Variablen
let aiTools = [];
let currentLang = 'de';
let activeFilter = 'all';
let userVotes = JSON.parse(localStorage.getItem('userVotes') || '{}');
let votesData = {};

// ==============================================
// DATEN LADEN
// ==============================================

async function loadData() {
  try {
    console.log('üì• Lade data.json...');
    const response = await fetch('data.json');
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    aiTools = await response.json();
    console.log(`‚úÖ ${aiTools.length} Tools erfolgreich geladen`);
    
    // Initialisiere Supabase
    const supabaseReady = initializeSupabase();
    
    if (supabaseReady) {
      // Lade Votes von Supabase
      await loadVotesFromSupabase();
      
      // Starte Realtime-Subscription
      subscribeToVoteUpdates();
    } else {
      console.log('‚ÑπÔ∏è Arbeite mit lokalem Vote-System (kein Supabase)');
      // Fallback: Lade lokale Votes
      votesData = JSON.parse(localStorage.getItem('votesData') || '{}');
    }
    
    // Rendere UI
    initializeUI();
    
  } catch (error) {
    console.error('‚ùå Fehler beim Laden der Daten:', error);
    showNotification('Fehler beim Laden der Daten. Bitte Seite neu laden.', 'error');
  }
}

// ==============================================
// SUPABASE FUNKTIONEN
// ==============================================

async function loadVotesFromSupabase() {
  if (!supabase || typeof supabase.from !== 'function') {
    console.warn('‚ö†Ô∏è Supabase nicht verf√ºgbar f√ºr loadVotesFromSupabase');
    return;
  }
  
  try {
    console.log('üì° Lade Votes von Supabase...');
    
    const { data, error } = await supabase
      .from('tools_votes')
      .select('*');
    
    if (error) {
      console.error('‚ùå Supabase Fehler:', error);
      return;
    }
    
    // Konvertiere Array zu Object f√ºr schnellen Zugriff
    votesData = {};
    if (data && Array.isArray(data)) {
      data.forEach(item => {
        votesData[item.tool_id] = {
          upvotes: parseInt(item.upvotes) || 0,
          downvotes: parseInt(item.downvotes) || 0,
          totalVotes: (parseInt(item.upvotes) || 0) - (parseInt(item.downvotes) || 0)
        };
      });
      console.log(`‚úÖ ${Object.keys(votesData).length} Vote-Datens√§tze von Supabase geladen`);
    }
    
  } catch (error) {
    console.error('‚ùå Fehler beim Laden von Votes:', error);
  }
}

function subscribeToVoteUpdates() {
  if (!supabase || typeof supabase.channel !== 'function') {
    console.warn('‚ö†Ô∏è Supabase Realtime nicht verf√ºgbar');
    return;
  }
  
  try {
    console.log('üîî Starte Realtime-Subscription...');
    
    realtimeChannel = supabase
      .channel('tools_votes_changes')
      .on(
        'postgres_changes',
        {
          event: '*',
          schema: 'public',
          table: 'tools_votes'
        },
        (payload) => {
          console.log('üîî Realtime Update erhalten:', payload);
          handleRealtimeUpdate(payload);
        }
      )
      .subscribe((status) => {
        if (status === 'SUBSCRIBED') {
          console.log('‚úÖ Realtime-Subscription aktiv');
        } else {
          console.log('‚ÑπÔ∏è Subscription Status:', status);
        }
      });
      
  } catch (error) {
    console.error('‚ùå Fehler bei Realtime-Subscription:', error);
  }
}

function handleRealtimeUpdate(payload) {
  const { new: newRecord, old: oldRecord, eventType } = payload;
  
  if (eventType === 'UPDATE' || eventType === 'INSERT') {
    const toolId = newRecord.tool_id;
    const oldVotes = votesData[toolId] || { totalVotes: 0 };
    
    // Update lokale Daten
    votesData[toolId] = {
      upvotes: parseInt(newRecord.upvotes) || 0,
      downvotes: parseInt(newRecord.downvotes) || 0,
      totalVotes: (parseInt(newRecord.upvotes) || 0) - (parseInt(newRecord.downvotes) || 0)
    };
    
    console.log(`üîÑ Vote Update f√ºr ${toolId}:`, votesData[toolId]);
    
    // Update UI
    updateVoteUI(toolId, oldVotes.totalVotes);
    updateTop5();
  }
}

async function submitVote(toolId, voteType) {
  // Pr√ºfe ob User bereits gevotet hat
  const existingVote = userVotes[toolId];
  
  if (existingVote === voteType) {
    showNotification('Du hast bereits f√ºr dieses Tool gevotet!', 'info');
    return;
  }
  
  // Update lokale User-Votes
  const oldVote = userVotes[toolId];
  userVotes[toolId] = voteType;
  localStorage.setItem('userVotes', JSON.stringify(userVotes));
  
  // Update UI sofort (optimistisch)
  updateVoteButtonStates(toolId);
  
  // Wenn Supabase verf√ºgbar, sende Vote
  if (supabase && typeof supabase.from === 'function') {
    try {
      // Berechne √Ñnderungen
      let upvoteChange = 0;
      let downvoteChange = 0;
      
      if (oldVote === 'up') {
        upvoteChange = -1;
      } else if (oldVote === 'down') {
        downvoteChange = -1;
      }
      
      if (voteType === 'up') {
        upvoteChange += 1;
      } else if (voteType === 'down') {
        downvoteChange += 1;
      }
      
      // Hole aktuelle Werte
      const { data: currentData, error: fetchError } = await supabase
        .from('tools_votes')
        .select('upvotes, downvotes')
        .eq('tool_id', toolId)
        .single();
      
      if (fetchError && fetchError.code !== 'PGRST116') {
        throw fetchError;
      }
      
      const currentUpvotes = currentData ? parseInt(currentData.upvotes) || 0 : 0;
      const currentDownvotes = currentData ? parseInt(currentData.downvotes) || 0 : 0;
      
      // Berechne neue Werte
      const newUpvotes = Math.max(0, currentUpvotes + upvoteChange);
      const newDownvotes = Math.max(0, currentDownvotes + downvoteChange);
      
      // Upsert in Datenbank
      const { error: upsertError } = await supabase
        .from('tools_votes')
        .upsert(
          {
            tool_id: toolId,
            upvotes: newUpvotes,
            downvotes: newDownvotes
          },
          {
            onConflict: 'tool_id'
          }
        );
      
      if (upsertError) {
        throw upsertError;
      }
      
      console.log(`‚úÖ Vote f√ºr ${toolId} erfolgreich gespeichert`);
      
    } catch (error) {
      console.error('‚ùå Fehler beim Speichern des Votes:', error);
      showNotification('Fehler beim Speichern des Votes', 'error');
      
      // Rollback bei Fehler
      if (oldVote) {
        userVotes[toolId] = oldVote;
      } else {
        delete userVotes[toolId];
      }
      localStorage.setItem('userVotes', JSON.stringify(userVotes));
      updateVoteButtonStates(toolId);
    }
  } else {
    // Fallback: Lokales Vote-System
    if (!votesData[toolId]) {
      votesData[toolId] = { upvotes: 0, downvotes: 0, totalVotes: 0 };
    }
    
    // Entferne altes Vote
    if (oldVote === 'up') {
      votesData[toolId].upvotes = Math.max(0, votesData[toolId].upvotes - 1);
    } else if (oldVote === 'down') {
      votesData[toolId].downvotes = Math.max(0, votesData[toolId].downvotes - 1);
    }
    
    // F√ºge neues Vote hinzu
    if (voteType === 'up') {
      votesData[toolId].upvotes++;
    } else if (voteType === 'down') {
      votesData[toolId].downvotes++;
    }
    
    // Berechne Total
    votesData[toolId].totalVotes = votesData[toolId].upvotes - votesData[toolId].downvotes;
    
    // Speichere lokal
    localStorage.setItem('votesData', JSON.stringify(votesData));
    
    // Update UI
    const oldTotal = votesData[toolId].totalVotes - (voteType === 'up' ? 1 : -1) + (oldVote === 'up' ? 1 : oldVote === 'down' ? -1 : 0);
    updateVoteUI(toolId, oldTotal);
    updateTop5();
  }
}

function updateVoteUI(toolId, oldTotal) {
  const voteCountEl = document.querySelector(`[data-tool-id="${toolId}"] .vote-count`);
  
  if (voteCountEl) {
    const newTotal = votesData[toolId]?.totalVotes || 0;
    voteCountEl.textContent = newTotal;
    
    // Animation
    voteCountEl.classList.remove('moving-up', 'moving-down');
    if (newTotal > oldTotal) {
      voteCountEl.classList.add('moving-up');
    } else if (newTotal < oldTotal) {
      voteCountEl.classList.add('moving-down');
    }
    
    setTimeout(() => {
      voteCountEl.classList.remove('moving-up', 'moving-down');
    }, 500);
  }
}

function updateVoteButtonStates(toolId) {
  const toolRow = document.querySelector(`[data-tool-id="${toolId}"]`);
  if (!toolRow) return;
  
  const upBtn = toolRow.querySelector('.vote-btn-row.up');
  const downBtn = toolRow.querySelector('.vote-btn-row.down');
  const userVote = userVotes[toolId];
  
  upBtn.classList.toggle('active', userVote === 'up');
  downBtn.classList.toggle('active', userVote === 'down');
}

function getVoteCount(toolId) {
  return votesData[toolId]?.totalVotes || 0;
}

// ==============================================
// UI INITIALISIERUNG
// ==============================================

function initializeUI() {
  renderFilterChips();
  renderToolGroups();
  updateTop5();
  setupEventListeners();
  checkCookieConsent();
}

function setupEventListeners() {
  // Suche
  const searchInput = document.getElementById('heroSearch');
  if (searchInput) {
    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      filterTools(query);
    });
  }
}

function renderFilterChips() {
  const container = document.getElementById('filterChips');
  if (!container) return;
  
  const filters = [
    { id: 'all', icon: 'fa-th', label: { de: 'Alle', en: 'All' } },
    { id: 'text', icon: 'fa-keyboard', label: { de: 'Text', en: 'Text' } },
    { id: 'image', icon: 'fa-image', label: { de: 'Bild', en: 'Image' } },
    { id: 'code', icon: 'fa-code', label: { de: 'Code', en: 'Code' } },
    { id: 'video', icon: 'fa-video', label: { de: 'Video', en: 'Video' } },
    { id: 'audio', icon: 'fa-microphone', label: { de: 'Audio', en: 'Audio' } },
    { id: 'business', icon: 'fa-briefcase', label: { de: 'Business', en: 'Business' } },
    { id: 'free', icon: 'fa-gift', label: { de: 'Kostenlos', en: 'Free' } },
    { id: 'popular', icon: 'fa-fire', label: { de: 'Beliebt', en: 'Popular' } }
  ];
  
  container.innerHTML = filters.map(f => `
    <div class="filter-chip ${f.id === 'all' ? 'active' : ''}" 
         onclick="setFilter('${f.id}')"
         data-filter="${f.id}">
      <i class="fas ${f.icon}"></i>
      <span data-de="${f.label.de}" data-en="${f.label.en}">${f.label[currentLang]}</span>
    </div>
  `).join('');
}

function renderToolGroups() {
  const container = document.getElementById('toolGroups');
  if (!container) return;
  
  const categories = {
    text: { icon: '‚úçÔ∏è', name: { de: 'Text & Schreiben', en: 'Text & Writing' } },
    image: { icon: 'üé®', name: { de: 'Bild & Design', en: 'Image & Design' } },
    code: { icon: 'üíª', name: { de: 'Code & Entwicklung', en: 'Code & Development' } },
    video: { icon: 'üé¨', name: { de: 'Video & Animation', en: 'Video & Animation' } },
    audio: { icon: 'üéµ', name: { de: 'Audio & Musik', en: 'Audio & Music' } },
    business: { icon: 'üíº', name: { de: 'Business & Produktivit√§t', en: 'Business & Productivity' } }
  };
  
  let html = '';
  
  for (const [cat, info] of Object.entries(categories)) {
    const tools = aiTools.filter(t => t.cat === cat);
    if (tools.length === 0) continue;
    
    // Sortiere nach Votes
    tools.sort((a, b) => getVoteCount(b.id) - getVoteCount(a.id));
    
    html += `
      <div class="tool-group" data-category="${cat}">
        <div class="group-header" onclick="toggleGroup(this)">
          <div class="group-title">
            <div class="group-icon">${info.icon}</div>
            <span data-de="${info.name.de}" data-en="${info.name.en}">${info.name[currentLang]}</span>
            <span class="group-count">(${tools.length})</span>
          </div>
          <div class="group-toggle">
            <i class="fas fa-chevron-down"></i>
          </div>
        </div>
        <div class="group-content">
          ${tools.map(tool => renderToolRow(tool)).join('')}
        </div>
      </div>
    `;
  }
  
  container.innerHTML = html;
}

function renderToolRow(tool) {
  const voteCount = getVoteCount(tool.id);
  const userVote = userVotes[tool.id];
  const isFavorite = isFav(tool.id);
  const isInCompare = isInComp(tool.id);
  
  return `
    <div class="tool-row" data-tool-id="${tool.id}" data-category="${tool.cat}">
      <div class="tool-vote">
        <div class="vote-count">${voteCount}</div>
        <div class="vote-buttons">
          <button class="vote-btn-row up ${userVote === 'up' ? 'active' : ''}" 
                  onclick="handleVote('${tool.id}', 'up', event)"
                  title="Upvote">
            <i class="fas fa-arrow-up"></i>
          </button>
          <button class="vote-btn-row down ${userVote === 'down' ? 'active' : ''}" 
                  onclick="handleVote('${tool.id}', 'down', event)"
                  title="Downvote">
            <i class="fas fa-arrow-down"></i>
          </button>
        </div>
      </div>
      
      <div class="tool-info" onclick="openToolDetail('${tool.id}')">
        <div class="tool-name">
          ${tool.name}
          ${tool.badge ? `<span class="peek-badge ${tool.badge}">${getBadgeText(tool.badge)}</span>` : ''}
        </div>
        <div class="tool-category">
          ${getCategoryIcon(tool.cat)} ${getCategoryName(tool.cat)}
        </div>
        <div class="tool-desc">${tool.d[currentLang === 'de' ? 0 : 1]}</div>
      </div>
      
      <div class="tool-meta">
        <div class="tool-price">${tool.cost[currentLang === 'de' ? 0 : 1]}</div>
        <div class="tool-actions">
          <button class="tool-action-btn favorite ${isFavorite ? 'active' : ''}" 
                  onclick="toggleFavorite('${tool.id}', event)"
                  title="Favorit">
            <i class="fas fa-star"></i>
          </button>
          <button class="tool-action-btn compare ${isInCompare ? 'active' : ''}" 
                  onclick="toggleCompare('${tool.id}', event)"
                  title="Vergleichen">
            <i class="fas fa-scale-balanced"></i>
          </button>
          <button class="tool-action-btn open" 
                  onclick="openTool('${tool.link}', event)"
                  title="√ñffnen">
            <i class="fas fa-external-link-alt"></i>
          </button>
        </div>
      </div>
    </div>
  `;
}

function updateTop5() {
  const container = document.getElementById('top5List');
  if (!container) return;
  
  // Sortiere alle Tools nach Votes
  const sortedTools = [...aiTools].sort((a, b) => {
    return getVoteCount(b.id) - getVoteCount(a.id);
  });
  
  // Nimm Top 5
  const top5 = sortedTools.slice(0, 5);
  
  container.innerHTML = top5.map((tool, index) => {
    const voteCount = getVoteCount(tool.id);
    return `
      <div class="top5-item" onclick="scrollToTool('${tool.id}')">
        <div class="top5-rank">${index + 1}</div>
        <div class="top5-icon">${getCategoryIcon(tool.cat)}</div>
        <div class="top5-info">
          <div class="top5-name">${tool.name}</div>
          <div class="top5-category">${getCategoryName(tool.cat)}</div>
        </div>
        <div class="top5-votes">${voteCount}</div>
      </div>
    `;
  }).join('');
}

// ==============================================
// HELPER FUNKTIONEN
// ==============================================

function handleVote(toolId, voteType, event) {
  event.stopPropagation();
  submitVote(toolId, voteType);
}

function toggleGroup(header) {
  const content = header.nextElementSibling;
  const toggle = header.querySelector('.group-toggle');
  const isExpanded = content.classList.contains('expanded');
  
  content.classList.toggle('expanded');
  toggle.classList.toggle('expanded');
}

function setFilter(filterId) {
  activeFilter = filterId;
  
  // Update Chips
  document.querySelectorAll('.filter-chip').forEach(chip => {
    chip.classList.toggle('active', chip.dataset.filter === filterId);
  });
  
  // Filter Tools
  const groups = document.querySelectorAll('.tool-group');
  groups.forEach(group => {
    const category = group.dataset.category;
    const tools = group.querySelectorAll('.tool-row');
    
    if (filterId === 'all') {
      group.style.display = '';
      tools.forEach(t => t.style.display = '');
    } else if (filterId === 'free') {
      const hasFreeTool = Array.from(tools).some(t => {
        const toolId = t.dataset.toolId;
        const tool = aiTools.find(at => at.id === toolId);
        return tool && (tool.price === 'free' || tool.price === 'freemium');
      });
      group.style.display = hasFreeTool ? '' : 'none';
      tools.forEach(t => {
        const toolId = t.dataset.toolId;
        const tool = aiTools.find(at => at.id === toolId);
        t.style.display = (tool && (tool.price === 'free' || tool.price === 'freemium')) ? '' : 'none';
      });
    } else if (filterId === 'popular') {
      const hasPopularTool = Array.from(tools).some(t => {
        const toolId = t.dataset.toolId;
        const tool = aiTools.find(at => at.id === toolId);
        return tool && tool.badge === 'popular';
      });
      group.style.display = hasPopularTool ? '' : 'none';
      tools.forEach(t => {
        const toolId = t.dataset.toolId;
        const tool = aiTools.find(at => at.id === toolId);
        t.style.display = (tool && tool.badge === 'popular') ? '' : 'none';
      });
    } else {
      group.style.display = category === filterId ? '' : 'none';
    }
  });
}

function filterTools(query) {
  if (!query) {
    document.querySelectorAll('.tool-row').forEach(row => {
      row.style.display = '';
    });
    return;
  }
  
  document.querySelectorAll('.tool-row').forEach(row => {
    const toolId = row.dataset.toolId;
    const tool = aiTools.find(t => t.id === toolId);
    
    if (!tool) {
      row.style.display = 'none';
      return;
    }
    
    const searchText = [
      tool.name,
      tool.d[0],
      tool.d[1],
      getCategoryName(tool.cat),
      ...(tool.tags || [])
    ].join(' ').toLowerCase();
    
    row.style.display = searchText.includes(query) ? '' : 'none';
  });
}

function searchByExample(element) {
  const text = element.textContent;
  const searchInput = document.getElementById('heroSearch');
  if (searchInput) {
    searchInput.value = text;
    filterTools(text.toLowerCase());
  }
}

function scrollToTool(toolId) {
  const toolRow = document.querySelector(`[data-tool-id="${toolId}"]`);
  if (toolRow) {
    // √ñffne Gruppe falls geschlossen
    const group = toolRow.closest('.tool-group');
    if (group) {
      const content = group.querySelector('.group-content');
      const toggle = group.querySelector('.group-toggle');
      if (!content.classList.contains('expanded')) {
        content.classList.add('expanded');
        toggle.classList.add('expanded');
      }
    }
    
    // Scroll zu Tool
    toolRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
    
    // Highlight
    toolRow.style.background = 'rgba(0, 212, 255, 0.1)';
    setTimeout(() => {
      toolRow.style.background = '';
    }, 2000);
  }
}

function openTool(link, event) {
  if (event) event.stopPropagation();
  window.open(link, '_blank', 'noopener,noreferrer');
}

function openToolDetail(toolId) {
  const tool = aiTools.find(t => t.id === toolId);
  if (!tool) return;
  
  // √ñffne Link
  window.open(tool.link, '_blank', 'noopener,noreferrer');
}

function toggleFavorite(toolId, event) {
  if (event) event.stopPropagation();
  
  let favorites = JSON.parse(localStorage.getItem('aiFavorites') || '[]');
  const index = favorites.indexOf(toolId);
  
  if (index > -1) {
    favorites.splice(index, 1);
    showNotification('Aus Favoriten entfernt', 'info');
  } else {
    favorites.push(toolId);
    showNotification('Zu Favoriten hinzugef√ºgt', 'success');
  }
  
  localStorage.setItem('aiFavorites', JSON.stringify(favorites));
  
  // Update Button
  const btn = event.target.closest('.tool-action-btn');
  btn.classList.toggle('active');
}

function toggleCompare(toolId, event) {
  if (event) event.stopPropagation();
  
  let comparison = JSON.parse(localStorage.getItem('aiComparison') || '[]');
  const index = comparison.indexOf(toolId);
  
  if (index > -1) {
    comparison.splice(index, 1);
    showNotification('Aus Vergleich entfernt', 'info');
  } else {
    if (comparison.length >= 5) {
      showNotification('Maximal 5 Tools im Vergleich', 'error');
      return;
    }
    comparison.push(toolId);
    showNotification('Zu Vergleich hinzugef√ºgt', 'success');
  }
  
  localStorage.setItem('aiComparison', JSON.stringify(comparison));
  
  // Update Button
  const btn = event.target.closest('.tool-action-btn');
  btn.classList.toggle('active');
}

function isFav(toolId) {
  const favorites = JSON.parse(localStorage.getItem('aiFavorites') || '[]');
  return favorites.includes(toolId);
}

function isInComp(toolId) {
  const comparison = JSON.parse(localStorage.getItem('aiComparison') || '[]');
  return comparison.includes(toolId);
}

function getCategoryIcon(category) {
  const icons = {
    text: '‚úçÔ∏è',
    image: 'üé®',
    code: 'üíª',
    video: 'üé¨',
    audio: 'üéµ',
    business: 'üíº'
  };
  return icons[category] || 'ü§ñ';
}

function getCategoryName(category) {
  const names = {
    de: {
      text: 'Text',
      image: 'Bild',
      code: 'Code',
      video: 'Video',
      audio: 'Audio',
      business: 'Business'
    },
    en: {
      text: 'Text',
      image: 'Image',
      code: 'Code',
      video: 'Video',
      audio: 'Audio',
      business: 'Business'
    }
  };
  return names[currentLang][category] || category;
}

function getBadgeText(badge) {
  const badges = {
    de: {
      popular: 'Beliebt',
      new: 'Neu',
      free: 'Kostenlos',
      ltd: 'LTD'
    },
    en: {
      popular: 'Popular',
      new: 'New',
      free: 'Free',
      ltd: 'LTD'
    }
  };
  return badges[currentLang][badge] || badge;
}

function toggleLanguage() {
  currentLang = currentLang === 'de' ? 'en' : 'de';
  document.getElementById('currentLang').textContent = currentLang.toUpperCase();
  
  // Update alle Texte
  document.querySelectorAll('[data-de]').forEach(el => {
    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
      el.placeholder = el.dataset[`placeholder${currentLang === 'de' ? 'De' : 'En'}`] || el.dataset[currentLang];
    } else {
      el.textContent = el.dataset[currentLang];
    }
  });
  
  // Re-render f√ºr kategorie-abh√§ngige Texte
  renderFilterChips();
  renderToolGroups();
  updateTop5();
}

function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `notification ${type}`;
  notification.innerHTML = `
    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
    <span>${message}</span>
    <button class="notification-close" onclick="this.parentElement.remove()">
      <i class="fas fa-times"></i>
    </button>
  `;
  document.body.appendChild(notification);
  
  setTimeout(() => notification.remove(), 3000);
}

function openModal(modalId) {
  document.getElementById(`${modalId}Overlay`).classList.add('active');
  document.getElementById(modalId).classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal(modalId) {
  document.getElementById(`${modalId}Overlay`).classList.remove('active');
  document.getElementById(modalId).classList.remove('active');
  document.body.style.overflow = '';
}

// ==============================================
// COOKIE CONSENT
// ==============================================

function checkCookieConsent() {
  const consent = localStorage.getItem('cookieConsent');
  if (!consent) {
    setTimeout(() => {
      document.getElementById('cookieConsent').classList.add('active');
    }, 1000);
  } else if (consent === 'accepted') {
    enableAnalytics();
  }
}

function handleCookieAccept() {
  localStorage.setItem('cookieConsent', 'accepted');
  document.getElementById('cookieConsent').classList.remove('active');
  enableAnalytics();
  showNotification('Cookie-Einstellungen gespeichert', 'success');
}

function handleCookieDecline() {
  localStorage.setItem('cookieConsent', 'declined');
  document.getElementById('cookieConsent').classList.remove('active');
  showNotification('Cookies abgelehnt', 'info');
}

function enableAnalytics() {
  window.cookiePreferences.analytics = true;
  // Hier Google Analytics Code einf√ºgen falls gew√ºnscht
  console.log('Analytics aktiviert');
}

// ==============================================
// INIT
// ==============================================

document.addEventListener('DOMContentLoaded', () => {
  console.log('üöÄ AI Searcher wird initialisiert...');
  loadData();
});

// Cleanup bei Page Unload
window.addEventListener('beforeunload', () => {
  if (realtimeChannel) {
    supabase.removeChannel(realtimeChannel);
  }
});
</script>
</body>
</html>